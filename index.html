<!doctype html>
<html lang="en">
    <head>
        <script type="text/javascript" src="newjersey.pro.spa.js"></script>
        <title>NEW JERSEY</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>

    <body>
        <h1>NEW JERSEY</h1>
        <div id="app">
        {{ message }}
        </div>

        <div id="example-1">
            <!-- <button v-on:click="counter += 1">Add 1</button> -->
            <button v-on:click="this.makeUnhandledError()">UNHANDLED ERROR</button>
            <!-- <p>The button above has been clicked {{ counter }} times.</p> -->

            <button v-on:click="this.makeHandledError()">HANDLED ERROR</button>
        </div>
    </body>

    <script>
        // Doesnt get captured?
        var makeUnhandledError = function() {
            console.log("unhandled error")
            var x = {}
            x.keyDoesntExist()
        }

        var makeHandledError = function() {
            // console.log("handled error for newrelic object:", newrelic)
            
            // throw new Error("I'm a thrown error")

            var err = new Error('Report caught error to New Relic');
            newrelic.noticeError(err);
        }

        var app = new Vue({
            el: '#app',
            data: {
               message: 'Hello Vue Jersey!'
            }
        })

        var example1 = new Vue({
            el: '#example-1',
            data: {
                counter: 0
            }
        })


    </script>

</html>